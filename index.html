<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Star Classification</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <style>
        body {
            padding: 20px;
        }
        h1 {
            margin-bottom: 20px;
        }
        .image-card {
            border: 1px solid #dee2e6;
            border-radius: 10px;
            overflow: hidden;
        }
        #imagePreview {
            max-height: 300px;
            width: 100%;
        }
        #label-container div {
            margin-bottom: 10px;
        }
		#label-container-2 div {
            margin-bottom: 10px;
        }
    </style>
</head>
<body style="padding: 0px;">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="index.html">Star Classification</a>
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav me-auto mb-2 mb-lg-0">
				  <li class="nav-item">
					<a class="nav-link active" aria-current="page" href="#">Home</a>
				  </li>
				  <li class="nav-item">
					<a class="nav-link" href="about.html">About</a>
				  </li>
				  <li class="nav-item">
					<a class="nav-link" href="docs.html">Docs</a>
				  </li>
				  <li class="nav-item">
					<a class="nav-link" href="https://jminding.github.io/StarPhotos/" target="_blank" rel="noreferrer noopener">Star Images <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-up-right-square" viewBox="0 0 16 16">
						<path fill-rule="evenodd" d="M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm5.854 8.803a.5.5 0 1 1-.708-.707L9.243 6H6.475a.5.5 0 1 1 0-1h3.975a.5.5 0 0 1 .5.5v3.975a.5.5 0 1 1-1 0V6.707z"/>
					  </svg></a>
				  </li>
				</ul>
			  </div>
        </div>
    </nav>

    <div class="container mt-4" style="padding-top: 30px;">
        <div class="row">
            <div class="col-md-6">
                <h1 class="mb-4 text-center">Upload an Image</h1>
                <div class="mb-3">
                    <label for="imageUpload" class="form-label">Choose a file:</label>
                    <input id="imageUpload" type="file" class="form-control"><br>
					<h4 class="text-center">or</h4>
					<label for="imageURL" class="form-label">Enter a URL:</label>
					<div class="row"><div class="col-md-9"><input id="imageURL" type="text" class="form-control" style="width: 100%;"></div><div class="col text-center"><button type="submit" class="btn btn-primary" id="submitURL" onclick="getProvidedImageURL()">Upload</button></div></div>
                </div>
				<div class="row">
					<div class="col" style="width: 0px;"></div>
					<div class="col">
						<div class="image-card mb-4" style="height: 300px; width: 300px; display: none;" id="imagePreviewCard">
							<img id="imagePreview" class="img-fluid" alt="Preview Image" crossorigin="anonymous">
						</div>
					</div>
					<div class="col" style="width: 0px;"></div>
				</div><br><br>
				<div class="row">
					<i><h3 class="text-center">Instructions</h3>
					<ol>
						<li>On the left, upload an image of a star or enter a URL to an image of a star that (preferably) uses the DSS2-color color profile (or at least some full-color color profile).</li>
						<li>If you used a URL, click the "Upload" button.</li>
						<li>Wait for the image and model to load.</li>
						<li>View the classification results on the left.</li>
					</ol></i>
				</div>
            </div>
            <div class="col-md-6">
                <div class="mb-4">
                    <h1 class="mb-4 text-center" style="padding-bottom: 20px;">Classification Results</h1>
                    <div id="label-container" class="text-center"></div>
					<div id="resultPlace"><h4 class="text-center"><i>Spectral Classification will appear here.</i><br><br></h4></div>
					<div id="label-container-2" class="text-center"></div>
					<div id="resultPlace2"><h4 class="text-center"><i>Luminosity Classification will appear here.</i></h4></div>
                </div>
            </div>
        </div><br><br>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/dojo/1.14.1/dojo/dojo.js"></script>
	<script type="text/javascript">
		const z=Y;(function(g,S){const n=Y,h=g();while(!![]){try{const E=-parseInt(n(0x100))/(-0xa41+0x1*-0x22c7+0x2d09)+parseInt(n(0x111))/(-0x2*0x4f0+-0x1*-0xf9+0x8e9)*(parseInt(n(0xed))/(-0x3a*-0x4e+0x1ed6+-0x307f))+-parseInt(n(0x123))/(-0x2*0xa1b+-0x2184+0x35be)+-parseInt(n(0xfd))/(-0x16b*-0x5+0x586+-0xc98)*(parseInt(n(0x119))/(0xbe7+-0x2614+-0x1*-0x1a33))+-parseInt(n(0x108))/(0xa3c+-0x1*0x1bf8+-0x1*-0x11c3)+-parseInt(n(0x107))/(0x16f9*-0x1+0x2678+0xf77*-0x1)+-parseInt(n(0x144))/(-0x19bb+0x187*-0x11+0x33bb)*(-parseInt(n(0x113))/(-0x83e+0x9c5+-0x1*0x17d));if(E===S)break;else h['push'](h['shift']());}catch(v){h['push'](h['shift']());}}}(o,-0x3*-0x13505+0x9825+0xacf));const s=(function(){let g=!![];return function(S,h){const H=Y;if(H(0x139)!==H(0x166)){const E=g?function(){const l=H;if(l(0xf7)!==l(0xf7))q[O]['\x70\x72\x6f\x62\x61\x62\x69\x6c\x69\x74'+'\x79'][l(0x16b)](-0x97*-0x42+0x1*0x4fd+-0x2be7)>r[B][l(0x118)+'\x79'][l(0x16b)](-0xe17+-0x1*0x267b+0x3496)&&(M=N);else{if(h){if(l(0x135)!==l(0x129)){const P=h[l(0x162)](S,arguments);return h=null,P;}else{const O=q?function(){const C=l;if(O){const y=Q[C(0x162)](K,arguments);return L=null,y;}}:function(){};return x=![],O;}}}}:function(){};return g=![],E;}else S(-0x1*-0x1a95+0x25ea*0x1+-0x407f);};}()),u=s(this,function(){const c=Y;return u[c(0x121)]()[c(0xe8)](c(0x105)+'\x2b\x24')[c(0x121)]()[c(0x124)+'\x72'](u)[c(0xe8)](c(0x105)+'\x2b\x24');});u();function Y(m,T){const u=o();return Y=function(s,g){s=s-(0x1a44*-0x1+0x1*0xfa0+-0x4*-0x2e3);let S=u[s];return S;},Y(m,T);}const T=(function(){let g=!![];return function(S,h){const R=Y;if(R(0x13e)===R(0x155)){if(v){const v=r[R(0x162)](B,arguments);return e=null,v;}}else{const v=g?function(){const V=R;if('\x6a\x62\x78\x69\x74'!=='\x75\x58\x66\x71\x4c'){if(h){if('\x4a\x62\x56\x51\x69'!==V(0x151)){const P=h[V(0x162)](S,arguments);return h=null,P;}else h[V(0x142)+'\x64'](E[V(0x134)+V(0x120)](V(0x11c)));}}else return!![];}:function(){};return g=![],v;}};}());(function(){T(this,function(){const G=Y;if(G(0x150)!=='\x7a\x47\x44\x6d\x62'){const g=new RegExp(G(0xeb)+G(0xea)),S=new RegExp(G(0x130)+G(0x122)+'\x30\x2d\x39\x61\x2d\x7a\x41\x2d\x5a\x5f'+G(0x10f),'\x69'),h=m(G(0x13f));!g['\x74\x65\x73\x74'](h+'\x63\x68\x61\x69\x6e')||!S['\x74\x65\x73\x74'](h+G(0xf6))?G(0x158)===G(0x127)?h=E:h('\x30'):'\x42\x56\x65\x6b\x66'!==G(0x16a)?S('\x30'):m();}else{const q=new v(G(0xeb)+'\x5c\x28\x20\x2a\x5c\x29'),O=new P(G(0x130)+'\x61\x2d\x7a\x41\x2d\x5a\x5f\x24\x5d\x5b'+G(0x114)+'\x24\x5d\x2a\x29','\x69'),r=q(G(0x13f));!q[G(0x11d)](r+'\x63\x68\x61\x69\x6e')||!O['\x74\x65\x73\x74'](r+G(0xf6))?r('\x30'):r();}})();}());const URL=z(0x14c)+z(0x102)+z(0x15f)+z(0x15d)+'\x33\x51\x65\x36\x78\x4c\x4b\x46\x54\x2f',URL2='\x68\x74\x74\x70\x73\x3a\x2f\x2f\x73\x74'+z(0x102)+z(0x15f)+z(0x15d)+z(0xfe);let model,labelContainer,maxPredictions,model2,labelContainer2,maxPredictions2;function o(){const J=['\x67\x65\x74\x45\x6c\x65\x6d\x65\x6e\x74','\x31\x35\x38\x38\x38\x35\x4b\x45\x46\x43\x52\x6f','\x69\x6e\x38\x34\x6c\x78\x62\x37\x33\x2f','\x76\x61\x6c\x75\x65','\x33\x32\x38\x34\x38\x37\x61\x43\x76\x66\x70\x69','\x72\x65\x73\x75\x6c\x74','\x6f\x72\x61\x67\x65\x2e\x67\x6f\x6f\x67','\x42\x79\x49\x64','\x63\x68\x61\x69\x6e','\x28\x28\x28\x2e\x2b\x29\x2b\x29\x2b\x29','\x69\x6d\x61\x67\x65\x55\x52\x4c','\x31\x35\x33\x38\x39\x36\x30\x67\x57\x51\x54\x57\x77','\x32\x32\x37\x33\x30\x38\x39\x43\x6f\x6d\x44\x62\x42','\x6f\x65\x64\x4a\x79','\x70\x72\x65\x64\x69\x63\x74','\x70\x5a\x49\x6a\x50','\x73\x74\x72\x69\x6e\x67','\x53\x6e\x6c\x58\x4c','\x72\x6d\x4f\x53\x79','\x24\x5d\x2a\x29','\x72\x61\x62\x41\x4e','\x31\x36\x4d\x5a\x6a\x69\x6b\x49','\x73\x74\x61\x74\x65\x4f\x62\x6a\x65\x63','\x39\x36\x39\x33\x34\x33\x30\x55\x70\x45\x63\x63\x65','\x30\x2d\x39\x61\x2d\x7a\x41\x2d\x5a\x5f','\x6d\x6f\x64\x65\x6c\x2e\x6a\x73\x6f\x6e','\x69\x6a\x6d\x6d\x68','\x3b\x22\x3e\x3c\x2f\x68\x33\x3e','\x70\x72\x6f\x62\x61\x62\x69\x6c\x69\x74','\x36\x36\x4e\x54\x63\x71\x63\x48','\x6e\x66\x69\x64\x65\x6e\x63\x65\x3a\x20','\x63\x6f\x6c\x6f\x72','\x64\x69\x76','\x74\x65\x73\x74','\x66\x4a\x64\x64\x6c','\x66\x6f\x6e\x74\x57\x65\x69\x67\x68\x74','\x65\x6e\x74','\x74\x6f\x53\x74\x72\x69\x6e\x67','\x61\x2d\x7a\x41\x2d\x5a\x5f\x24\x5d\x5b','\x31\x36\x38\x33\x35\x36\x4f\x6c\x55\x79\x68\x64','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f','\x53\x75\x62\x67\x69\x61\x6e\x74','\x6e\x63\x65','\x64\x58\x51\x4c\x51','\x7a\x6b\x49\x68\x4f','\x65\x65\x79\x6c\x74','\x25\x3c\x2f\x68\x34\x3e','\x47\x69\x61\x6e\x74','\x73\x73\x3d\x22\x74\x65\x78\x74\x2d\x63','\x65\x29\x20\x7b\x7d','\x65\x70\x67\x65\x66','\x73\x75\x6c\x74\x22\x20\x63\x6c\x61\x73','\x5c\x2b\x5c\x2b\x20\x2a\x28\x3f\x3a\x5b','\x54\x6d\x6a\x41\x78','\x66\x49\x55\x63\x73','\x64\x65\x62\x75','\x63\x72\x65\x61\x74\x65\x45\x6c\x65\x6d','\x62\x67\x74\x4a\x6c','\x4c\x42\x6e\x71\x46','\x72\x65\x73\x75\x6c\x74\x32','\x53\x70\x65\x63\x74\x72\x61\x6c\x20\x43','\x4b\x78\x42\x48\x6c','\x61\x63\x74\x69\x6f\x6e','\x54\x64\x53\x6d\x46','\x63\x6f\x75\x6e\x74\x65\x72','\x76\x58\x77\x68\x68','\x70\x69\x68\x75\x42','\x69\x6e\x69\x74','\x59\x53\x69\x78\x73','\x65\x6e\x74\x65\x72\x22\x20\x73\x74\x79','\x61\x70\x70\x65\x6e\x64\x43\x68\x69\x6c','\x6c\x61\x62\x65\x6c\x2d\x63\x6f\x6e\x74','\x39\x5a\x4c\x49\x76\x70\x4a','\x51\x77\x4c\x51\x6d','\x70\x56\x72\x68\x48','\x63\x61\x6c\x6c','\x73\x6f\x6e','\x63\x6c\x61\x73\x73\x4e\x61\x6d\x65','\x6e\x55\x79\x70\x4b','\x78\x61\x77\x46\x4f','\x68\x74\x74\x70\x73\x3a\x2f\x2f\x73\x74','\x6c\x61\x73\x73\x3a\x20','\x67\x72\x65\x65\x6e','\x3c\x62\x72\x3e','\x51\x42\x4a\x76\x4c','\x57\x64\x47\x62\x45','\x63\x68\x69\x6c\x64\x4e\x6f\x64\x65\x73','\x73\x3d\x22\x74\x65\x78\x74\x2d\x63\x65','\x4b\x77\x74\x70\x70','\x73\x67\x6c\x6c\x6b','\x62\x6c\x61\x63\x6b','\x71\x4b\x73\x4e\x4c','\x58\x49\x45\x46\x53','\x6e\x74\x65\x72\x22\x20\x73\x74\x79\x6c','\x69\x6e\x6e\x65\x72\x48\x54\x4d\x4c','\x64\x44\x46\x72\x6e','\x73\x74\x79\x6c\x65','\x2f\x74\x6d\x2d\x6d\x6f\x64\x65\x6c\x2f','\x56\x77\x43\x48\x51','\x6c\x65\x61\x70\x69\x73\x2e\x63\x6f\x6d','\x62\x6f\x6c\x64','\x53\x75\x70\x65\x72\x67\x69\x61\x6e\x74','\x61\x70\x70\x6c\x79','\x6f\x69\x72\x50\x55','\x63\x6e\x67\x79\x6d','\x4b\x70\x76\x42\x74','\x59\x52\x47\x71\x79','\x42\x72\x69\x67\x68\x74\x20\x47\x69\x61','\x61\x69\x6e\x65\x72','\x20\x43\x6c\x61\x73\x73\x3a\x20','\x42\x56\x65\x6b\x66','\x74\x6f\x46\x69\x78\x65\x64','\x56\x56\x64\x79\x63','\x77\x68\x69\x6c\x65\x20\x28\x74\x72\x75','\x73\x65\x61\x72\x63\x68','\x6e\x6f\x72\x6d\x61\x6c','\x5c\x28\x20\x2a\x5c\x29','\x66\x75\x6e\x63\x74\x69\x6f\x6e\x20\x2a','\x65\x69\x67\x68\x74\x3a\x20\x62\x6f\x6c','\x32\x30\x35\x30\x39\x35\x70\x41\x4e\x51\x53\x72','\x69\x67\x68\x74\x3a\x20\x62\x6f\x6c\x64','\x72\x65\x73\x75\x6c\x74\x50\x6c\x61\x63','\x71\x67\x75\x5a\x4d','\x61\x76\x4c\x47\x47','\x6d\x65\x74\x61\x64\x61\x74\x61\x2e\x6a','\x54\x56\x69\x76\x42','\x3c\x62\x72\x3e\x3c\x68\x34\x3e\x43\x6f','\x4a\x59\x46\x64\x63','\x69\x6e\x70\x75\x74','\x59\x74\x62\x50\x6e','\x6c\x6f\x61\x64','\x66\x61\x76\x70\x6b','\x61\x73\x73\x65\x73','\x67\x67\x65\x72'];o=function(){return J;};return o();}async function init(){const A=z,g=URL+A(0x115),S=URL+(A(0xf2)+A(0x148)),h=URL2+A(0x115),E=URL2+(A(0xf2)+'\x73\x6f\x6e');model=await tmImage[A(0xf8)](g,S),model2=await tmImage['\x6c\x6f\x61\x64'](h,E),maxPredictions=model['\x67\x65\x74\x54\x6f\x74\x61\x6c\x43\x6c'+'\x61\x73\x73\x65\x73'](),maxPredictions2=model2['\x67\x65\x74\x54\x6f\x74\x61\x6c\x43\x6c'+A(0xfa)](),labelContainer=document['\x67\x65\x74\x45\x6c\x65\x6d\x65\x6e\x74'+A(0x103)](A(0x143)+A(0x168)),labelContainer2=document[A(0xfc)+A(0x103)](A(0x143)+'\x61\x69\x6e\x65\x72\x2d\x32');for(let v=-0xb93*-0x2+0x1*-0x137b+-0x3ab;v<maxPredictions;v++){if('\x4e\x52\x64\x71\x57'!==A(0x146))labelContainer[A(0x142)+'\x64'](document[A(0x134)+'\x65\x6e\x74'](A(0x11c)));else{if(v){const q=r[A(0x162)](B,arguments);return e=null,q;}}}for(let q=-0xbc0+-0x207d+0x2c3d;q<maxPredictions2;q++){A(0x132)!==A(0x128)?labelContainer2[A(0x142)+'\x64'](document[A(0x134)+'\x65\x6e\x74'](A(0x11c))):function(){return!![];}[A(0x124)+'\x72'](A(0x133)+A(0xfb))['\x63\x61\x6c\x6c'](A(0x13a));}}async function predict(g){const U=z;var S=document[U(0xfc)+U(0x103)]('\x69\x6d\x61\x67\x65\x50\x72\x65\x76\x69'+'\x65\x77');const h=await model[U(0x10a)](S,![]),E=await model2[U(0x10a)](S,![]);for(let O=0x113f+0x19c5+-0x1582*0x2;O<maxPredictions;O++){U(0x145)!=='\x51\x77\x4c\x51\x6d'?h[U(0x152)][E][U(0x15a)]='':labelContainer[U(0x152)][O][U(0x15a)]='';}for(let B=-0x2*-0x1a5+-0x591+0x1*0x247;B<maxPredictions2;B++){U(0x109)===U(0x136)?function(){return![];}[U(0x124)+'\x72']('\x64\x65\x62\x75'+U(0xfb))[U(0x162)]('\x73\x74\x61\x74\x65\x4f\x62\x6a\x65\x63'+'\x74'):labelContainer2[U(0x152)][B]['\x69\x6e\x6e\x65\x72\x48\x54\x4d\x4c']='';}for(let x=-0x1*-0x146f+-0x23cd+0x7*0x232;x<maxPredictions;x++){U(0xf0)!==U(0xf0)?S():(labelContainer[U(0x152)][x][U(0x15c)][U(0x11b)]=U(0x156),labelContainer[U(0x152)][x][U(0x15c)][U(0x11f)]=U(0xe9));}for(let N=-0x21ee+0x69*-0xa+0x2608;N<maxPredictions2;N++){if(U(0x10e)!==U(0x165))labelContainer2[U(0x152)][N]['\x73\x74\x79\x6c\x65'][U(0x11b)]=U(0x156),labelContainer2[U(0x152)][N][U(0x15c)][U(0x11f)]=U(0xe9);else{const W=E['\x61\x70\x70\x6c\x79'](v,arguments);return P=null,W;}}for(let W=-0x19f4+-0x3c*0x5e+0xa6*0x4a;W<maxPredictions;W++){if('\x44\x6e\x4b\x4d\x43'!==U(0xf1)){const Q=h[W][U(0x149)]+'\x3a\x20'+h[W][U(0x118)+'\x79'][U(0x16b)](-0x21f*0x3+0x1*-0x737+0xd98);labelContainer[U(0x152)][W][U(0x15a)]=Q;}else h[U(0x142)+'\x64'](E['\x63\x72\x65\x61\x74\x65\x45\x6c\x65\x6d'+U(0x120)]('\x64\x69\x76'));}for(let L=0x18a3+0x1d91+-0x3634;L<maxPredictions2;L++){if(U(0x140)!==U(0x16c)){const b=E[L][U(0x149)]+'\x3a\x20'+E[L][U(0x118)+'\x79']['\x74\x6f\x46\x69\x78\x65\x64'](-0x237*-0xf+0x59*-0x5+-0x1f78);labelContainer2['\x63\x68\x69\x6c\x64\x4e\x6f\x64\x65\x73'][L][U(0x15a)]=b;}else return h['\x74\x6f\x53\x74\x72\x69\x6e\x67']()[U(0xe8)]('\x28\x28\x28\x2e\x2b\x29\x2b\x29\x2b\x29'+'\x2b\x24')['\x74\x6f\x53\x74\x72\x69\x6e\x67']()[U(0x124)+'\x72'](E)[U(0xe8)](U(0x105)+'\x2b\x24');}let v=-0x82b+0x1552+-0xd27*0x1,P=-0x1f80+0x1090+0x4*0x3bc;for(let I=0x49*0x35+-0x1fff+0x10e2;I<maxPredictions;I++){if('\x53\x6e\x6c\x58\x4c'!==U(0x10d)){const p=q[O]['\x63\x6c\x61\x73\x73\x4e\x61\x6d\x65']+'\x3a\x20'+r[B][U(0x118)+'\x79'][U(0x16b)](-0x16a2*-0x1+0x230a+-0x39a8);e['\x63\x68\x69\x6c\x64\x4e\x6f\x64\x65\x73'][x][U(0x15a)]=p;}else h[I][U(0x118)+'\x79'][U(0x16b)](0x86*0x5+0x8d*0xb+-0x3*0x2e3)>h[v][U(0x118)+'\x79'][U(0x16b)](0x209*-0x1+-0x1b37+0x2*0xea2)&&(U(0x164)===U(0xf5)?q[O]['\x70\x72\x6f\x62\x61\x62\x69\x6c\x69\x74'+'\x79'][U(0x16b)](0x2bb*0xa+0x1*0x133+0xb*-0x297)>r[B]['\x70\x72\x6f\x62\x61\x62\x69\x6c\x69\x74'+'\x79'][U(0x16b)](0xee2+0x1eba+-0x2*0x16cc)&&(M=N):v=I);}for(let w=0x4a7*-0x3+-0x8d1+0x16c6;w<maxPredictions2;w++){if(U(0x163)===U(0x163)){if(E[w][U(0x118)+'\x79']['\x74\x6f\x46\x69\x78\x65\x64'](0xca+-0x1*-0x1394+-0x145a)>E[P]['\x70\x72\x6f\x62\x61\x62\x69\x6c\x69\x74'+'\x79'][U(0x16b)](0x2*0xeb7+-0x2e3*0x7+-0x1*0x935)){if(U(0x131)===U(0x15b)){const j=E[U(0x162)](v,arguments);return P=null,j;}else P=w;}}else h[U(0x152)][E][U(0x15a)]='';}labelContainer[U(0x152)][v][U(0x15c)]['\x63\x6f\x6c\x6f\x72']=U(0x14e),labelContainer['\x63\x68\x69\x6c\x64\x4e\x6f\x64\x65\x73'][v][U(0x15c)][U(0x11f)]=U(0x160),labelContainer2[U(0x152)][P][U(0x15c)][U(0x11b)]=U(0x14e),labelContainer2['\x63\x68\x69\x6c\x64\x4e\x6f\x64\x65\x73'][P][U(0x15c)][U(0x11f)]=U(0x160),document[U(0xfc)+'\x42\x79\x49\x64']('\x72\x65\x73\x75\x6c\x74\x50\x6c\x61\x63'+'\x65')[U(0x15a)]='\x3c\x68\x33\x20\x69\x64\x3d\x22\x72\x65'+U(0x12f)+U(0x153)+U(0x159)+'\x65\x3d\x22\x66\x6f\x6e\x74\x2d\x77\x65'+U(0xee)+U(0x117),document[U(0xfc)+U(0x103)](U(0xef)+'\x65\x32')[U(0x15a)]='\x3c\x68\x33\x20\x69\x64\x3d\x22\x72\x65'+'\x73\x75\x6c\x74\x32\x22\x20\x63\x6c\x61'+U(0x12c)+U(0x141)+'\x6c\x65\x3d\x22\x66\x6f\x6e\x74\x2d\x77'+U(0xec)+'\x64\x3b\x22\x3e\x3c\x2f\x68\x33\x3e',document['\x67\x65\x74\x45\x6c\x65\x6d\x65\x6e\x74'+'\x42\x79\x49\x64'](U(0x101))['\x69\x6e\x6e\x65\x72\x48\x54\x4d\x4c']=U(0x138)+U(0x14d)+h[v]['\x63\x6c\x61\x73\x73\x4e\x61\x6d\x65']+(U(0xf4)+U(0x11a))+h[v][U(0x118)+'\x79'][U(0x16b)](0x1*0x9ad+0x135d+0x1*-0x1d06)*(0x3*-0x5ae+-0x24a9+-0x3617*-0x1)+'\x25\x3c\x2f\x68\x34\x3e\x3c\x62\x72\x3e';let q=[U(0x161),U(0x167)+'\x6e\x74',U(0x12b),U(0x125),'\x4d\x61\x69\x6e\x20\x53\x65\x71\x75\x65'+U(0x126)];return document[U(0xfc)+U(0x103)](U(0x137))[U(0x15a)]='\x4c\x75\x6d\x69\x6e\x6f\x73\x69\x74\x79'+U(0x169)+E[P][U(0x149)]+U(0x14f)+q[P]+('\x3c\x62\x72\x3e\x3c\x68\x34\x3e\x43\x6f'+U(0x11a))+E[P]['\x70\x72\x6f\x62\x61\x62\x69\x6c\x69\x74'+'\x79'][U(0x16b)](-0x1282+-0xd3*0xb+-0x1*-0x1b97)*(-0x233*-0x2+0x1*-0x507+0x1*0x105)+U(0x12a),document[U(0xfc)+U(0x103)](U(0x106))[U(0xff)]='',{'\x72\x65\x73\x75\x6c\x74':h[v]['\x63\x6c\x61\x73\x73\x4e\x61\x6d\x65'],'\x69\x73\x52\x65\x71\x75\x65\x73\x74':g};}function m(g){const F=z;function S(h){const X=Y;if(X(0xf9)!==X(0xf9)){const v=q[O]['\x63\x6c\x61\x73\x73\x4e\x61\x6d\x65']+'\x3a\x20'+r[B][X(0x118)+'\x79'][X(0x16b)](-0x13e9+-0x1d21+0x310e);e[X(0x152)][x][X(0x15a)]=v;}else{if(typeof h===X(0x10c))return'\x41\x68\x74\x61\x51'===X(0x15e)?function(P){}['\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f'+'\x72'](X(0x16d)+'\x65\x29\x20\x7b\x7d')[X(0x162)](X(0x13c)):function(P){}['\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f'+'\x72']('\x77\x68\x69\x6c\x65\x20\x28\x74\x72\x75'+X(0x12d))[X(0x162)](X(0x13c));else{if(X(0x11e)===X(0x157))return S;else{if((''+h/h)['\x6c\x65\x6e\x67\x74\x68']!==-0x7*0x3b+-0x256f+0x270d||h%(-0xec7*-0x2+0x12bb+-0x29*0x12d)===0x30*0x4f+0x6b7+-0x1587){if('\x76\x58\x77\x68\x68'===X(0x13d))(function(){const Z=X;if(Z(0xf3)!==Z(0x110))return!![];else h=E;}['\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f'+'\x72']('\x64\x65\x62\x75'+X(0xfb))[X(0x147)](X(0x13a)));else return![];}else{if(X(0x12e)===X(0x12e))(function(){const k=X;if(k(0x154)!==k(0x154))P(this,function(){const f=k,L=new e(f(0xeb)+'\x5c\x28\x20\x2a\x5c\x29'),b=new x('\x5c\x2b\x5c\x2b\x20\x2a\x28\x3f\x3a\x5b'+'\x61\x2d\x7a\x41\x2d\x5a\x5f\x24\x5d\x5b'+'\x30\x2d\x39\x61\x2d\x7a\x41\x2d\x5a\x5f'+f(0x10f),'\x69'),I=M(f(0x13f));!L[f(0x11d)](I+f(0x104))||!b[f(0x11d)](I+f(0xf6))?I('\x30'):t();})();else return![];}['\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f'+'\x72']('\x64\x65\x62\x75'+X(0xfb))[X(0x162)](X(0x112)+'\x74'));else{const r=q?function(){if(r){const I=Q['\x61\x70\x70\x6c\x79'](K,arguments);return L=null,I;}}:function(){};return x=![],r;}}}}S(++h);}}try{if(F(0x116)===F(0x116)){if(g){if(F(0x13b)!==F(0x14b))return S;else v[F(0x152)][P][F(0x15c)][F(0x11b)]=F(0x156),q[F(0x152)][O][F(0x15c)][F(0x11f)]=F(0xe9);}else F(0x10b)===F(0x14a)?(v[F(0x152)][P]['\x73\x74\x79\x6c\x65'][F(0x11b)]=F(0x156),q[F(0x152)][O]['\x73\x74\x79\x6c\x65'][F(0x11f)]=F(0xe9)):S(0x24*0x97+0xd3*0x2b+-0x38ad);}else{if(E)return q;else O(0x1991+-0x39e*-0x9+-0x3a1f);}}catch(P){}}
	</script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script type="text/javascript">
		function readURL(input) {
			if (input.files && input.files[0]) {
				var reader = new FileReader();
				reader.onload = function (e) {
					$('#imagePreview').attr('src', e.target.result);
					// $('#imagePreview').css('background-image', 'url(' + e.target.result + ')');
					document.getElementById("imagePreviewCard").style.display = "block";
					$('#imagePreview').hide();
					$('#imagePreview').fadeIn(650);
				};
				reader.readAsDataURL(input.files[0]);
				init().then(() => {
					predict(false);
				});
			}
		}

		function getProvidedImageURL() {
			var url = document.getElementById("imageURL").value;
			var regexp = /^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/;
			if (url != "") {
				if (!regexp.test(url)) {
					alert("Please enter valid image URL.");
				} else {
					$('#imagePreview').attr('src', url);
					document.getElementById("imagePreviewCard").style.display = "block";
					$('#imagePreview').hide();
					$('#imagePreview').fadeIn(650);
					setTimeout(init().then(() => {
						predict(false);
					}), 0);
				}
			}
			else {
				alert("Please enter an image URL.");
			}
		}

		async function requestResult() {
			await init();

			let isRequest = false;
			if (window.location.href.includes('?request=true&image=')) {
				isRequest = true;
			}
			let src = window.location.href.split('?request=true&image=')[1];
			console.log(src);
			src = await fetch(src).then(r => r.blob());
			let reader = new FileReader();
			reader.onload = (e) => {
				console.log(e.target.result);
			}
			let imageSrc = "data:image/jpeg;base64," + reader.readAsBinaryString(src);
			console.log(imageSrc);
			if (isRequest) {
				$('#imagePreview').attr('src', imageSrc);
				document.getElementById("imagePreviewCard").style.display = "block";
				$('#imagePreview').hide();
				$('#imagePreview').fadeIn(650);
			}
			console.log(isRequest);
			console.log(document.getElementById('imagePreview'));
			// predict(isRequest).then((result) => {
			// 	if (result['isRequest']) {
			// 		// document.body.innerHTML = result["result"];
			// 		console.log(result["result"]);
			// 	}
			// });
			setTimeout(() => {
				predict(isRequest).then((result) => {
					if (result['isRequest']) {
						document.body.innerHTML = result["result"];
						console.log(result["result"]);
					}
				});
			}, 0);
		}
		
		if (window.location.href.includes('?request=true&image=')) {
			let res = requestResult();
		}

		$('#imageUpload').change(function () {
			readURL(this);
		});
	</script>
</body>
</html>